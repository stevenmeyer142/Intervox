package com.brazedblue.intervox.display;import java.awt.*;import javax.swing.*;class LayoutButton extends JButton implements LayoutListener  {	LayoutModel fLayout;	boolean		fIconValid = false;		static final int kBaseIconSize = 16;      public LayoutButton(LayoutModel layout) 	{		super("");				fLayout = layout;		fLayout.AddLayoutListener(this);    }		public void paint(Graphics g)	{		if (!fIconValid)		{			CreateIcon();		}		super.paint(g);		}		public void Dispose()	{		if (fLayout != null)		{			fLayout.RemoveLayoutListener(this);			fLayout = null;		}	}		public void CreateIcon()	{		Image image = fLayout.GetIconImage(this, kBaseIconSize);				ImageIcon icon = new ImageIcon(image);		setIcon(icon);		fIconValid = true;	}		public void ProcessLayoutEvent(LayoutEvent event)	{		fIconValid = false;		repaint();	}/*		public LayoutModel GetLayout()	{		return fLayout;	}*/  }